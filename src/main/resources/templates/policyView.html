<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Policy View Page</title>
	
	<!-- CSS FILES -->        
	   <link rel="preconnect" href="https://fonts.googleapis.com">
	   
	   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

	   <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">
	     
		<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />

		<link th:href="@{/css/bootstrap-icons.css}" rel="stylesheet" />
		
		<link th:href="@{/css/policyView.css}" rel="stylesheet" />
		
   <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script th:src="@{/js/policyView.js}"></script>-->
</head>

<body id="top">
	<main>
		<nav class="navbar navbar-expand-lg">
					<div class="container">
		                <a class = "navbar-brand" th:href="@{/}">
		                    <img th:src="@{/images/safepolicylogo.webp}"   alt="" height="80px" width="80px" style="border-radius: 20px;">
		                </a>
						<div class="d-lg-none ms-auto me-4">
						      <a th:href="@{#top}" class="navbar-icon bi-person smoothscroll"></a>
						</div>
				
		               <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		                   <span class="navbar-toggler-icon"></span>
		               </button>
					   <div class="collapse navbar-collapse" id="navbarNav">
					   		<ul class="navbar-nav ms-lg-5 me-lg-auto">
								<li class="nav-item">
									<a class="nav-link" th:href="@{/product}">Product Page</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" th:href="@{/configuration}">Configuration Page</a>
								</li>
					   		</ul>
							
						</div>
					</div>
				</nav>
	
	<section class="hero-section d-flex justify-content-center align-items-center" id="section_1">	
		<div class="container">
			<div class="row">
				<div>		
				    <div class="policy fulcard card mx-5 my-5 py-5">
				        <th:block th:each="policy : ${policyPage.content}">
				            <div class="container card my-5 py-5">
				                <div class="row">
				                    <div class="col-4 logo">
				                        <img style="border-radius: 31%;" th:src="@{/images/safepolicylogo.webp}" alt="Logo">
				                        <h1>Safe-Policy</h1>
				                    </div>
				                    <div class="col-8">
				                        <div class="row d-flex justify-content-around">
				                            <div class="col-2">
				                                <span class="planName">Plan Name</span>
				                                <p id="planName" th:text="${policy.planName}"></p>
				                            </div>
				                            <div class="col-2">
				                                <span class="finalpremium">Your Premium</span>
				                                <p id="finalpremium" th:text="${policy.finalPremium}"></p>
				                            </div>
				                            <div class="col-2">
				                                <span class="status">Status</span>
				                                <p id="status" th:text="${policy.policyStatus}"></p>
				                            </div>
				                            <div class="col-2">
				                                <a href="#" class="toggleDetails" th:attr="data-id=${policy.bookingId}">See More</a>
				                            </div>
				                            <div class="col-2 ">
				                     
				                               <a th:href="@{'/downloadPolicy?quoteId=' + ${#strings.replace(policy.quoteId, '#', '')}}" class="downloadButton btn">Download PDF</a>
				                            </div>
				                        </div>
				                    </div>
				                </div>
				            </div>
				            <div class="policyDetail">
				                <div class="policyDetail-card" id="policyDetailCard" th:id="'policyDetailCard' + ${policy.bookingId}">
				                    <ul class="row">
				                        <li class="">
				                            <span>Proposer</span>
				                            <p th:text="${policy.fullName}"></p>
				                        </li>
				                        <li>
				                            <span>Plan Term</span>
				                            <p th:text="${policy.planTerm}"></p>
				                        </li>
				                        <li>
				                            <span>Sum Assured</span>
				                            <p th:text="${policy.sumAssured}"></p>
				                        </li>
				                        <li>
				                            <span>Booking Date</span>
				                            <p th:text="${#dates.format(policy.bookingDate, 'yyyy-MM-dd')}"></p>
				                        </li>
				                        <li>
				                            <span>Booking ID</span>
				                            <p th:text="${policy.bookingId}"></p>
				                        </li>
				                        <li>
				                            <span>Application Number</span>
				                            <p th:text="${policy.applicationNumber}"></p>
				                        </li>
				                        <li>
				                            <span>Maturity Date</span>
				                            <p th:text="${#dates.format(policy.maturityDate, 'yyyy-MM-dd')}"></p>
				                        </li>
				                        <li>
				                            <span>Total Addon</span>
				                            <p th:text="${policy.totalAddon}"></p>
				                        </li>
				                    </ul>
				                </div>
				            </div>
				        </th:block>
				    </div>
				
				    <!-- Pagination Controls -->
				    <div class="d-flex justify-content-between align-items-center my-4">
				        <div>
				            <p class="paggination-text" th:text="'Page ' + ${policyPage.number + 1} + ' of ' + ${policyPage.totalPages}"></p>
				        </div>
				        <div>
				            <nav aria-label="Page navigation">
				                <ul class="pagination">
				                    <li class="page-item" th:classappend="${policyPage.hasPrevious()} ? '' : 'disabled'">
				                        <a class="page-link" th:href="@{'/policyView?page=' + ${currentPage - 1}}" aria-label="Previous">
				                            <span aria-hidden="true">&laquo;</span>
				                        </a>
				                    </li>
				                    <li class="page-item" th:each="i : ${#numbers.sequence(0, policyPage.totalPages - 1)}" 
				                        th:classappend="${i == currentPage} ? 'active' : ''">
				                        <a class="page-link" th:href="@{'/policyView?page=' + ${i}}" th:text="${i + 1}">1</a>
				                    </li>
				                    <li class="page-item" th:classappend="${policyPage.hasNext()} ? '' : 'disabled'">
				                        <a class="page-link" th:href="@{'/policyView?page=' + ${currentPage + 1}}" aria-label="Next">
				                            <span aria-hidden="true">&raquo;</span>
				                        </a>
				                    </li>
				                </ul>
				            </nav>
				        </div>
				        <div>
				            <p class="paggination-text" th:text="'Showing ' + ${policyPage.size} + ' policies per page'"></p>
				        </div>
				    </div>
				</div>
			</div>
		</div>
	</section>
</main>

<!--footer -->
		  
			<footer class="site-footer section-padding">
			        <div class="container">
			            <div class="row">

			                <div class="col-lg-3 col-12 mb-4 pb-2">
			                    <a class="navbar-brand mb-2" th:href="@{/home.html}" >
			                        
			                            <img th:src="@{/images/logopolicy.jpg}"  alt="" height="150px" width="150px" style="border-radius: 20px;">
			                        
			                    </a>
			                </div>

			                <div class="col-lg-3 col-md-4 col-6">
			                    <h6 class="site-footer-title mb-3">Resources</h6>

			                    <ul class="site-footer-links">
			                        <li class="site-footer-link-item">
			                            <a th:href="'#'" class="site-footer-link">Home</a>
			                        </li>

			                        <li class="site-footer-link-item">
			                            <a th:href="'#'" class="site-footer-link">How it works</a>
			                        </li>

			                        <li class="site-footer-link-item">
			                            <a th:href="'#'" class="site-footer-link">FAQs</a>
			                        </li>

			                        <li class="site-footer-link-item">
			                            <a th:href="'#'" class="site-footer-link">Contact</a>
			                        </li>
			                    </ul>
			                </div>

			                <div class="col-lg-3 col-md-4 col-6 mb-4 mb-lg-0">
			                    <h6 class="site-footer-title mb-3">Information</h6>

			                    <p class="text-white d-flex mb-1">
			                        <a th:href="@{tel: 305-240-9671}" class="site-footer-link">
			                            305-240-9671
			                        </a>
			                    </p>

			                    <p class="text-white d-flex">
			                        <a th:href="@{mailto:info@company.com}"	 class="site-footer-link">
			                            info@company.com
			                        </a>
			                    </p>
			                </div>

			                <div class="col-lg-3 col-md-4 col-12 mt-4 mt-lg-0 ms-auto">
			                    <div class="dropdown">
			                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
			                        English</button>

			                        <ul class="dropdown-menu">
			                            <li><button class="dropdown-item" type="button">Thai</button></li>

			                            <li><button class="dropdown-item" type="button">Myanmar</button></li>

			                            <li><button class="dropdown-item" type="button">Arabic</button></li>
			                        </ul>
			                    </div>

			                    <p class="copyright-text mt-lg-5 mt-4">Copyright © 2048 Topic Listing Center. All rights reserved.
			                    <br><br>Design: <a rel="nofollow" href="https://templatemo.com" target="_blank">TemplateMo</a></p>
			                    
			                </div>

			            </div>
			        </div>
			    </footer>
				
				<!-- JAVASCRIPT FILES -->
					   <script src="js/jquery.min.js"></script>
					   <script src="js/bootstrap.bundle.min.js"></script>
					   <script src="js/jquery.sticky.js"></script>
					   <script src="js/click-scroll.js"></script>
					   <script src="js/custom.js"></script>
					   <script th:src="@{/js/policyView.js}"></script>


</body>
</html>
